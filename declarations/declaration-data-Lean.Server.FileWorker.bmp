{"name":"Lean.Server.FileWorker","instances":[],"imports":["Init","Init.System.IO","Lean.Data.RBMap","Lean.Environment","Lean.Data.Lsp","Lean.Data.Json.FromToJson","Lean.Util.Paths","Lean.LoadDynlib","Lean.Server.Utils","Lean.Server.Snapshots","Lean.Server.AsyncList","Lean.Server.References","Lean.Server.FileWorker.Utils","Lean.Server.FileWorker.RequestHandling","Lean.Server.FileWorker.WidgetRequests","Lean.Server.Rpc.Basic","Lean.Widget.InteractiveDiagnostic"],"declarations":[{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/ec941735c80dc54c53948e30c428905b6600f95a/src/Lean/Server/FileWorker.lean#L495-L508","name":"Lean.Server.FileWorker.workerMain","line":495,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.workerMain","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.workerMain\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">workerMain</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(opts : <a href=\"./Lean/Data/Options.html#Lean.Options\">Lean.Options</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <a href=\"./Init/Prelude.html#UInt32\">UInt32</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/ec941735c80dc54c53948e30c428905b6600f95a/src/Lean/Server/FileWorker.lean#L471-L492","name":"Lean.Server.FileWorker.initAndRunWorker","line":471,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.initAndRunWorker","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.initAndRunWorker\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">initAndRunWorker</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(i : <a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(o : <a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(e : <a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(opts : <a href=\"./Lean/Data/Options.html#Lean.Options\">Lean.Options</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <a href=\"./Init/Prelude.html#UInt32\">UInt32</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/ec941735c80dc54c53948e30c428905b6600f95a/src/Lean/Server/FileWorker.lean#L434-L468","name":"Lean.Server.FileWorker.mainLoop","line":434,"kind":"opaque","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.mainLoop","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">partial def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.mainLoop\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">mainLoop</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerM\">Lean.Server.FileWorker.WorkerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/ec941735c80dc54c53948e30c428905b6600f95a/src/Lean/Server/FileWorker.lean#L393-L430","name":"Lean.Server.FileWorker.handleRequest","line":393,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.handleRequest","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.handleRequest\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">handleRequest</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(id : <a href=\"./Lean/Data/JsonRpc.html#Lean.JsonRpc.RequestID\">Lean.JsonRpc.RequestID</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(method : <a href=\"./Init/Prelude.html#String\">String</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(params : <a href=\"./Lean/Data/Json/Basic.html#Lean.Json\">Lean.Json</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerM\">Lean.Server.FileWorker.WorkerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/ec941735c80dc54c53948e30c428905b6600f95a/src/Lean/Server/FileWorker.lean#L389-L391","name":"Lean.Server.FileWorker.queueRequest","line":389,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.queueRequest","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.queueRequest\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">queueRequest</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(id : <a href=\"./Lean/Data/JsonRpc.html#Lean.JsonRpc.RequestID\">Lean.JsonRpc.RequestID</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(requestTask : <span class=\"fn\"><a href=\"./Init/Core.html#Task\">Task</a> (<span class=\"fn\"><a href=\"./Init/Prelude.html#Except\">Except</a> <a href=\"./Init/System/IOError.html#IO.Error\">IO.Error</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span>)</span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerM\">Lean.Server.FileWorker.WorkerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/ec941735c80dc54c53948e30c428905b6600f95a/src/Lean/Server/FileWorker.lean#L379-L387","name":"Lean.Server.FileWorker.handleNotification","line":379,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.handleNotification","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.handleNotification\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">handleNotification</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(method : <a href=\"./Init/Prelude.html#String\">String</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(params : <a href=\"./Lean/Data/Json/Basic.html#Lean.Json\">Lean.Json</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerM\">Lean.Server.FileWorker.WorkerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/ec941735c80dc54c53948e30c428905b6600f95a/src/Lean/Server/FileWorker.lean#L374-L377","name":"Lean.Server.FileWorker.parseParams","line":374,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.parseParams","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.parseParams\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">parseParams</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(paramType : <a href=\"./foundational_types.html\">Type</a>)</span></span>\n<span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">[inst : <span class=\"fn\"><a href=\"./Lean/Data/Json/FromToJson.html#Lean.FromJson\">Lean.FromJson</a> <span class=\"fn\">paramType</span></span>]</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(params : <a href=\"./Lean/Data/Json/Basic.html#Lean.Json\">Lean.Json</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerM\">Lean.Server.FileWorker.WorkerM</a> <span class=\"fn\">paramType</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/ec941735c80dc54c53948e30c428905b6600f95a/src/Lean/Server/FileWorker.lean#L365-L369","name":"Lean.Server.FileWorker.handleRpcConnect","line":365,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.handleRpcConnect","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.handleRpcConnect\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">handleRpcConnect</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Data/Lsp/Extra.html#Lean.Lsp.RpcConnectParams\">Lean.Lsp.RpcConnectParams</a> → <span class=\"fn\"><a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerM\">Lean.Server.FileWorker.WorkerM</a> <a href=\"./Lean/Data/Lsp/Extra.html#Lean.Lsp.RpcConnected\">Lean.Lsp.RpcConnected</a></span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/ec941735c80dc54c53948e30c428905b6600f95a/src/Lean/Server/FileWorker.lean#L354-L358","name":"Lean.Server.FileWorker.handleRpcKeepAlive","line":354,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.handleRpcKeepAlive","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.handleRpcKeepAlive\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">handleRpcKeepAlive</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(p : <a href=\"./Lean/Data/Lsp/Extra.html#Lean.Lsp.RpcKeepAliveParams\">Lean.Lsp.RpcKeepAliveParams</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerM\">Lean.Server.FileWorker.WorkerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/ec941735c80dc54c53948e30c428905b6600f95a/src/Lean/Server/FileWorker.lean#L341-L352","name":"Lean.Server.FileWorker.handleRpcRelease","line":341,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.handleRpcRelease","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.handleRpcRelease\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">handleRpcRelease</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(p : <a href=\"./Lean/Data/Lsp/Extra.html#Lean.Lsp.RpcReleaseParams\">Lean.Lsp.RpcReleaseParams</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerM\">Lean.Server.FileWorker.WorkerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/ec941735c80dc54c53948e30c428905b6600f95a/src/Lean/Server/FileWorker.lean#L338-L339","name":"Lean.Server.FileWorker.handleCancelRequest","line":338,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.handleCancelRequest","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.handleCancelRequest\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">handleCancelRequest</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(p : <a href=\"./Lean/Data/Lsp/Basic.html#Lean.Lsp.CancelParams\">Lean.Lsp.CancelParams</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerM\">Lean.Server.FileWorker.WorkerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/ec941735c80dc54c53948e30c428905b6600f95a/src/Lean/Server/FileWorker.lean#L329-L336","name":"Lean.Server.FileWorker.handleDidChange","line":329,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.handleDidChange","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.handleDidChange\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">handleDidChange</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(p : <a href=\"./Lean/Data/Lsp/TextSync.html#Lean.Lsp.DidChangeTextDocumentParams\">Lean.Lsp.DidChangeTextDocumentParams</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerM\">Lean.Server.FileWorker.WorkerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/ec941735c80dc54c53948e30c428905b6600f95a/src/Lean/Server/FileWorker.lean#L279-L323","name":"Lean.Server.FileWorker.updateDocument","line":279,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.updateDocument","doc":"Given the new document, updates editable doc state. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.updateDocument\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">updateDocument</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(newMeta : <a href=\"./Lean/Server/Utils.html#Lean.Server.DocumentMeta\">Lean.Server.DocumentMeta</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerM\">Lean.Server.FileWorker.WorkerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/ec941735c80dc54c53948e30c428905b6600f95a/src/Lean/Server/FileWorker.lean#L275-L276","name":"Lean.Server.FileWorker.updatePendingRequests","line":275,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.updatePendingRequests","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.updatePendingRequests\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">updatePendingRequests</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(map : <span class=\"fn\"><a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.PendingRequestMap\">Lean.Server.FileWorker.PendingRequestMap</a> → <a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.PendingRequestMap\">Lean.Server.FileWorker.PendingRequestMap</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerM\">Lean.Server.FileWorker.WorkerM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/ec941735c80dc54c53948e30c428905b6600f95a/src/Lean/Server/FileWorker.lean#L249-L271","name":"Lean.Server.FileWorker.initializeWorker","line":249,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.initializeWorker","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.initializeWorker\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">initializeWorker</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(meta : <a href=\"./Lean/Server/Utils.html#Lean.Server.DocumentMeta\">Lean.Server.DocumentMeta</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(i : <a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(o : <a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(e : <a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(initParams : <a href=\"./Lean/Data/Lsp/InitShutdown.html#Lean.Lsp.InitializeParams\">Lean.Lsp.InitializeParams</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(opts : <a href=\"./Lean/Data/Options.html#Lean.Options\">Lean.Options</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> (<span class=\"fn\"><a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerContext\">Lean.Server.FileWorker.WorkerContext</a> <a href=\"./Init/Prelude.html#Prod\">×</a> <a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerState\">Lean.Server.FileWorker.WorkerState</a></span>)</span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/ec941735c80dc54c53948e30c428905b6600f95a/src/Lean/Server/FileWorker.lean#L192-L247","name":"Lean.Server.FileWorker.compileHeader","line":192,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.compileHeader","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.compileHeader\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">compileHeader</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(m : <a href=\"./Lean/Server/Utils.html#Lean.Server.DocumentMeta\">Lean.Server.DocumentMeta</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(hOut : <a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(opts : <a href=\"./Lean/Data/Options.html#Lean.Options\">Lean.Options</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(hasWidgets : <a href=\"./Init/Prelude.html#Bool\">Bool</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> (<span class=\"fn\"><a href=\"./Init/Prelude.html#Lean.Syntax\">Lean.Syntax</a> <a href=\"./Init/Prelude.html#Prod\">×</a> <span class=\"fn\"><a href=\"./Init/Core.html#Task\">Task</a> (<span class=\"fn\"><a href=\"./Init/Prelude.html#Except\">Except</a> <a href=\"./Init/System/IOError.html#IO.Error\">IO.Error</a> (<span class=\"fn\"><a href=\"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot\">Lean.Server.Snapshots.Snapshot</a> <a href=\"./Init/Prelude.html#Prod\">×</a> <a href=\"./Lean/Util/Path.html#Lean.SearchPath\">Lean.SearchPath</a></span>)</span>)</span></span>)</span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/ec941735c80dc54c53948e30c428905b6600f95a/src/Lean/Server/FileWorker.lean#L172-L178","name":"Lean.Server.FileWorker.lakeSetupSearchPath.processStderr","line":172,"kind":"opaque","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.lakeSetupSearchPath.processStderr","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">partial def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.lakeSetupSearchPath.processStderr\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">lakeSetupSearchPath</span>.<span class=\"name\">processStderr</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(lakePath : <a href=\"./Init/System/FilePath.html#System.FilePath\">Lake.FilePath</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(m : <a href=\"./Lean/Server/Utils.html#Lean.Server.DocumentMeta\">Lean.Server.DocumentMeta</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(hOut : <a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(args : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Init/Prelude.html#String\">String</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(lakeProc : <span class=\"fn\"><a href=\"./Init/System/IO.html#IO.Process.Child\">IO.Process.Child</a>\n  <span class=\"fn\"><span class=\"fn\">{\n      <span class=\"fn\">toStdioConfig</span> :=\n        <span class=\"fn\">{ <span class=\"fn\">stdin</span> := <a href=\"./Init/System/IO.html#IO.Process.Stdio.null\">IO.Process.Stdio.null</a>, <span class=\"fn\">stdout</span> := <a href=\"./Init/System/IO.html#IO.Process.Stdio.piped\">IO.Process.Stdio.piped</a>, <span class=\"fn\">stderr</span> := <a href=\"./Init/System/IO.html#IO.Process.Stdio.piped\">IO.Process.Stdio.piped</a> }</span>,\n      <span class=\"fn\">cmd</span> := <span class=\"fn\"><span class=\"fn\">lakePath</span>.toString</span>, <span class=\"fn\">args</span> := <span class=\"fn\">args</span>, <span class=\"fn\">cwd</span> := <span class=\"fn\">none</span>, <span class=\"fn\">env</span> := <span class=\"fn\">#[]</span>, <span class=\"fn\">setsid</span> := <a href=\"./Init/Prelude.html#Bool.false\">false</a> }</span>.toStdioConfig</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(acc : <a href=\"./Init/Prelude.html#String\">String</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <a href=\"./Init/Prelude.html#String\">String</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/ec941735c80dc54c53948e30c428905b6600f95a/src/Lean/Server/FileWorker.lean#L161-L190","name":"Lean.Server.FileWorker.lakeSetupSearchPath","line":161,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.lakeSetupSearchPath","doc":"Use `lake print-paths` to compile dependencies on the fly and add them to `LEAN_PATH`.\nCompilation progress is reported to `hOut` via LSP notifications. Return the search path for\nsource files. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.lakeSetupSearchPath\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">lakeSetupSearchPath</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(lakePath : <a href=\"./Init/System/FilePath.html#System.FilePath\">Lake.FilePath</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(m : <a href=\"./Lean/Server/Utils.html#Lean.Server.DocumentMeta\">Lean.Server.DocumentMeta</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(imports : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Environment.html#Lean.Import\">Lean.Import</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(hOut : <a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <a href=\"./Lean/Util/Path.html#Lean.SearchPath\">Lean.SearchPath</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/ec941735c80dc54c53948e30c428905b6600f95a/src/Lean/Server/FileWorker.lean#L154-L154","name":"Lean.Server.FileWorker.WorkerM","line":154,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerM","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerM\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">WorkerM</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(α : <a href=\"./foundational_types.html\">Type</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/ec941735c80dc54c53948e30c428905b6600f95a/src/Lean/Server/FileWorker.lean#L152-L152","name":"Lean.Server.FileWorker.WorkerState.rpcSessions","line":152,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerState.rpcSessions","doc":"A map of RPC session IDs. We allow asynchronous elab tasks and request handlers\nto modify sessions. A single `Ref` ensures atomic transactions. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerState.rpcSessions\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">WorkerState</span>.<span class=\"name\">rpcSessions</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerState\">Lean.Server.FileWorker.WorkerState</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Data/RBMap.html#Lean.RBMap\">Lean.RBMap</a> <a href=\"./Init/Prelude.html#UInt64\">UInt64</a> (<span class=\"fn\"><a href=\"./Init/System/IO.html#IO.Ref\">IO.Ref</a> <a href=\"./Lean/Server/FileWorker/Utils.html#Lean.Server.FileWorker.RpcSession\">Lean.Server.FileWorker.RpcSession</a></span>) <span class=\"fn\">compare</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/ec941735c80dc54c53948e30c428905b6600f95a/src/Lean/Server/FileWorker.lean#L149-L149","name":"Lean.Server.FileWorker.WorkerState.pendingRequests","line":149,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerState.pendingRequests","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerState.pendingRequests\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">WorkerState</span>.<span class=\"name\">pendingRequests</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerState\">Lean.Server.FileWorker.WorkerState</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.PendingRequestMap\">Lean.Server.FileWorker.PendingRequestMap</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/ec941735c80dc54c53948e30c428905b6600f95a/src/Lean/Server/FileWorker.lean#L148-L148","name":"Lean.Server.FileWorker.WorkerState.initHeaderStx","line":148,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerState.initHeaderStx","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerState.initHeaderStx\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">WorkerState</span>.<span class=\"name\">initHeaderStx</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerState\">Lean.Server.FileWorker.WorkerState</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Lean.Syntax\">Lean.Syntax</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/ec941735c80dc54c53948e30c428905b6600f95a/src/Lean/Server/FileWorker.lean#L146-L146","name":"Lean.Server.FileWorker.WorkerState.doc","line":146,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerState.doc","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerState.doc\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">WorkerState</span>.<span class=\"name\">doc</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerState\">Lean.Server.FileWorker.WorkerState</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Server/FileWorker/Utils.html#Lean.Server.FileWorker.EditableDocument\">Lean.Server.FileWorker.EditableDocument</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/ec941735c80dc54c53948e30c428905b6600f95a/src/Lean/Server/FileWorker.lean#L145-L152","name":"Lean.Server.FileWorker.WorkerState","line":145,"kind":"structure","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerState","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">structure</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerState\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">WorkerState</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/ec941735c80dc54c53948e30c428905b6600f95a/src/Lean/Server/FileWorker.lean#L143-L143","name":"Lean.Server.FileWorker.PendingRequestMap","line":143,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.PendingRequestMap","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.PendingRequestMap\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">PendingRequestMap</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/ec941735c80dc54c53948e30c428905b6600f95a/src/Lean/Server/FileWorker.lean#L123-L139","name":"Lean.Server.FileWorker.unfoldCmdSnaps","line":123,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.unfoldCmdSnaps","doc":"Elaborates all commands after the last snap (at least the header snap is assumed to exist), emitting the diagnostics into `hOut`. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.unfoldCmdSnaps\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">unfoldCmdSnaps</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(m : <a href=\"./Lean/Server/Utils.html#Lean.Server.DocumentMeta\">Lean.Server.DocumentMeta</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(snaps : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot\">Lean.Server.Snapshots.Snapshot</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(cancelTk : <a href=\"./Lean/Server/FileWorker/Utils.html#Lean.Server.FileWorker.CancelToken\">Lean.Server.FileWorker.CancelToken</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(startAfterMs : <a href=\"./Init/Prelude.html#UInt32\">UInt32</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#ReaderT\">ReaderT</a> <a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerContext\">Lean.Server.FileWorker.WorkerContext</a> <a href=\"./Init/System/IO.html#IO\">IO</a>\n  (<span class=\"fn\"><a href=\"./Lean/Server/AsyncList.html#IO.AsyncList\">IO.AsyncList</a> <a href=\"./Lean/Server/FileWorker/Utils.html#Lean.Server.FileWorker.ElabTaskError\">Lean.Server.FileWorker.ElabTaskError</a> <a href=\"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot\">Lean.Server.Snapshots.Snapshot</a></span>)</span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/ec941735c80dc54c53948e30c428905b6600f95a/src/Lean/Server/FileWorker.lean#L72-L72","name":"Lean.Server.FileWorker.AsyncElabM","line":72,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.AsyncElabM","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.AsyncElabM\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">AsyncElabM</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(α : <a href=\"./foundational_types.html\">Type</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/ec941735c80dc54c53948e30c428905b6600f95a/src/Lean/Server/FileWorker.lean#L70-L70","name":"Lean.Server.FileWorker.AsyncElabState.snaps","line":70,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.AsyncElabState.snaps","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.AsyncElabState.snaps\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">AsyncElabState</span>.<span class=\"name\">snaps</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.AsyncElabState\">Lean.Server.FileWorker.AsyncElabState</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot\">Lean.Server.Snapshots.Snapshot</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/ec941735c80dc54c53948e30c428905b6600f95a/src/Lean/Server/FileWorker.lean#L69-L70","name":"Lean.Server.FileWorker.AsyncElabState","line":69,"kind":"structure","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.AsyncElabState","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">structure</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.AsyncElabState\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">AsyncElabState</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/ec941735c80dc54c53948e30c428905b6600f95a/src/Lean/Server/FileWorker.lean#L64-L64","name":"Lean.Server.FileWorker.WorkerContext.clientHasWidgets","line":64,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerContext.clientHasWidgets","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerContext.clientHasWidgets\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">WorkerContext</span>.<span class=\"name\">clientHasWidgets</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerContext\">Lean.Server.FileWorker.WorkerContext</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Bool\">Bool</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/ec941735c80dc54c53948e30c428905b6600f95a/src/Lean/Server/FileWorker.lean#L63-L63","name":"Lean.Server.FileWorker.WorkerContext.initParams","line":63,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerContext.initParams","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerContext.initParams\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">WorkerContext</span>.<span class=\"name\">initParams</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerContext\">Lean.Server.FileWorker.WorkerContext</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Data/Lsp/InitShutdown.html#Lean.Lsp.InitializeParams\">Lean.Lsp.InitializeParams</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/ec941735c80dc54c53948e30c428905b6600f95a/src/Lean/Server/FileWorker.lean#L62-L62","name":"Lean.Server.FileWorker.WorkerContext.headerTask","line":62,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerContext.headerTask","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerContext.headerTask\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">WorkerContext</span>.<span class=\"name\">headerTask</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerContext\">Lean.Server.FileWorker.WorkerContext</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Core.html#Task\">Task</a> (<span class=\"fn\"><a href=\"./Init/Prelude.html#Except\">Except</a> <a href=\"./Init/System/IOError.html#IO.Error\">IO.Error</a> (<span class=\"fn\"><a href=\"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot\">Lean.Server.Snapshots.Snapshot</a> <a href=\"./Init/Prelude.html#Prod\">×</a> <a href=\"./Lean/Util/Path.html#Lean.SearchPath\">Lean.SearchPath</a></span>)</span>)</span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/ec941735c80dc54c53948e30c428905b6600f95a/src/Lean/Server/FileWorker.lean#L61-L61","name":"Lean.Server.FileWorker.WorkerContext.hLog","line":61,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerContext.hLog","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerContext.hLog\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">WorkerContext</span>.<span class=\"name\">hLog</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerContext\">Lean.Server.FileWorker.WorkerContext</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/ec941735c80dc54c53948e30c428905b6600f95a/src/Lean/Server/FileWorker.lean#L60-L60","name":"Lean.Server.FileWorker.WorkerContext.hOut","line":60,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerContext.hOut","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerContext.hOut\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">WorkerContext</span>.<span class=\"name\">hOut</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerContext\">Lean.Server.FileWorker.WorkerContext</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/ec941735c80dc54c53948e30c428905b6600f95a/src/Lean/Server/FileWorker.lean#L59-L59","name":"Lean.Server.FileWorker.WorkerContext.hIn","line":59,"kind":"def","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerContext.hIn","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerContext.hIn\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">WorkerContext</span>.<span class=\"name\">hIn</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerContext\">Lean.Server.FileWorker.WorkerContext</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/ec941735c80dc54c53948e30c428905b6600f95a/src/Lean/Server/FileWorker.lean#L58-L64","name":"Lean.Server.FileWorker.WorkerContext","line":58,"kind":"structure","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerContext","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">structure</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerContext\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">WorkerContext</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/ec941735c80dc54c53948e30c428905b6600f95a/src/Lean/Server/FileWorker.lean#L1-L1","name":"Lean.Server.FileWorker.WorkerState.mk","line":1,"kind":"ctor","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerState.mk","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerState.mk\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">WorkerState</span>.<span class=\"name\">mk</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(doc : <a href=\"./Lean/Server/FileWorker/Utils.html#Lean.Server.FileWorker.EditableDocument\">Lean.Server.FileWorker.EditableDocument</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(initHeaderStx : <a href=\"./Init/Prelude.html#Lean.Syntax\">Lean.Syntax</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(pendingRequests : <a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.PendingRequestMap\">Lean.Server.FileWorker.PendingRequestMap</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(rpcSessions : <span class=\"fn\"><a href=\"./Lean/Data/RBMap.html#Lean.RBMap\">Lean.RBMap</a> <a href=\"./Init/Prelude.html#UInt64\">UInt64</a> (<span class=\"fn\"><a href=\"./Init/System/IO.html#IO.Ref\">IO.Ref</a> <a href=\"./Lean/Server/FileWorker/Utils.html#Lean.Server.FileWorker.RpcSession\">Lean.Server.FileWorker.RpcSession</a></span>) <span class=\"fn\">compare</span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerState\">Lean.Server.FileWorker.WorkerState</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/ec941735c80dc54c53948e30c428905b6600f95a/src/Lean/Server/FileWorker.lean#L1-L1","name":"Lean.Server.FileWorker.AsyncElabState.mk","line":1,"kind":"ctor","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.AsyncElabState.mk","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.AsyncElabState.mk\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">AsyncElabState</span>.<span class=\"name\">mk</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(snaps : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot\">Lean.Server.Snapshots.Snapshot</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.AsyncElabState\">Lean.Server.FileWorker.AsyncElabState</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/ec941735c80dc54c53948e30c428905b6600f95a/src/Lean/Server/FileWorker.lean#L1-L1","name":"Lean.Server.FileWorker.WorkerContext.mk","line":1,"kind":"ctor","docLink":"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerContext.mk","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerContext.mk\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">FileWorker</span>.<span class=\"name\">WorkerContext</span>.<span class=\"name\">mk</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(hIn : <a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(hOut : <a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(hLog : <a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(headerTask : <span class=\"fn\"><a href=\"./Init/Core.html#Task\">Task</a> (<span class=\"fn\"><a href=\"./Init/Prelude.html#Except\">Except</a> <a href=\"./Init/System/IOError.html#IO.Error\">IO.Error</a> (<span class=\"fn\"><a href=\"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot\">Lean.Server.Snapshots.Snapshot</a> <a href=\"./Init/Prelude.html#Prod\">×</a> <a href=\"./Lean/Util/Path.html#Lean.SearchPath\">Lean.SearchPath</a></span>)</span>)</span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(initParams : <a href=\"./Lean/Data/Lsp/InitShutdown.html#Lean.Lsp.InitializeParams\">Lean.Lsp.InitializeParams</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(clientHasWidgets : <a href=\"./Init/Prelude.html#Bool\">Bool</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Server/FileWorker.html#Lean.Server.FileWorker.WorkerContext\">Lean.Server.FileWorker.WorkerContext</a></div></div>"}]}