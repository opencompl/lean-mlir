{"name":"Lean.Data.Lsp.Ipc","instances":[],"imports":["Init","Init.System.IO","Lean.Data.Json","Lean.Data.Lsp.Communication","Lean.Data.Lsp.Diagnostics","Lean.Data.Lsp.Extra"],"declarations":[{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/ec941735c80dc54c53948e30c428905b6600f95a/src/Lean/Data/Lsp/Ipc.lean#L92-L97","name":"Lean.Lsp.Ipc.runWith","line":92,"kind":"def","docLink":"./Lean/Data/Lsp/Ipc.html#Lean.Lsp.Ipc.runWith","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Data/Lsp/Ipc.html#Lean.Lsp.Ipc.runWith\"><span class=\"name\">Lean</span>.<span class=\"name\">Lsp</span>.<span class=\"name\">Ipc</span>.<span class=\"name\">runWith</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{α : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(lean : <a href=\"./Init/System/FilePath.html#System.FilePath\">Lake.FilePath</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(args : <span class=\"fn\"><a href=\"./Init/Prelude.html#optParam\">optParam</a> (<span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Init/Prelude.html#String\">String</a></span>) <span class=\"fn\">#[]</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(test : <span class=\"fn\"><a href=\"./Lean/Data/Lsp/Ipc.html#Lean.Lsp.Ipc.IpcM\">Lean.Lsp.Ipc.IpcM</a> <span class=\"fn\">α</span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <span class=\"fn\">α</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/ec941735c80dc54c53948e30c428905b6600f95a/src/Lean/Data/Lsp/Ipc.lean#L76-L89","name":"Lean.Lsp.Ipc.collectDiagnostics.loop","line":76,"kind":"opaque","docLink":"./Lean/Data/Lsp/Ipc.html#Lean.Lsp.Ipc.collectDiagnostics.loop","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">partial def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Data/Lsp/Ipc.html#Lean.Lsp.Ipc.collectDiagnostics.loop\"><span class=\"name\">Lean</span>.<span class=\"name\">Lsp</span>.<span class=\"name\">Ipc</span>.<span class=\"name\">collectDiagnostics</span>.<span class=\"name\">loop</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(waitForDiagnosticsId : <span class=\"fn\"><a href=\"./Init/Prelude.html#optParam\">optParam</a> <a href=\"./Lean/Data/JsonRpc.html#Lean.JsonRpc.RequestID\">Lean.JsonRpc.RequestID</a> <span class=\"fn\">0</span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Data/Lsp/Ipc.html#Lean.Lsp.Ipc.IpcM\">Lean.Lsp.Ipc.IpcM</a> (<span class=\"fn\"><a href=\"./Init/Prelude.html#List\">List</a> (<span class=\"fn\"><a href=\"./Lean/Data/JsonRpc.html#Lean.JsonRpc.Notification\">Lean.JsonRpc.Notification</a> <a href=\"./Lean/Data/Lsp/Diagnostics.html#Lean.Lsp.PublishDiagnosticsParams\">Lean.Lsp.PublishDiagnosticsParams</a></span>)</span>)</span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/ec941735c80dc54c53948e30c428905b6600f95a/src/Lean/Data/Lsp/Ipc.lean#L73-L90","name":"Lean.Lsp.Ipc.collectDiagnostics","line":73,"kind":"def","docLink":"./Lean/Data/Lsp/Ipc.html#Lean.Lsp.Ipc.collectDiagnostics","doc":"Waits for the worker to emit all diagnostics for the current document version\nand returns them as a list. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Data/Lsp/Ipc.html#Lean.Lsp.Ipc.collectDiagnostics\"><span class=\"name\">Lean</span>.<span class=\"name\">Lsp</span>.<span class=\"name\">Ipc</span>.<span class=\"name\">collectDiagnostics</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(waitForDiagnosticsId : <span class=\"fn\"><a href=\"./Init/Prelude.html#optParam\">optParam</a> <a href=\"./Lean/Data/JsonRpc.html#Lean.JsonRpc.RequestID\">Lean.JsonRpc.RequestID</a> <span class=\"fn\">0</span></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(target : <a href=\"./Lean/Data/Lsp/Basic.html#Lean.Lsp.DocumentUri\">Lean.Lsp.DocumentUri</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(version : <a href=\"./Init/Prelude.html#Nat\">Nat</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Data/Lsp/Ipc.html#Lean.Lsp.Ipc.IpcM\">Lean.Lsp.Ipc.IpcM</a> (<span class=\"fn\"><a href=\"./Init/Prelude.html#List\">List</a> (<span class=\"fn\"><a href=\"./Lean/Data/JsonRpc.html#Lean.JsonRpc.Notification\">Lean.JsonRpc.Notification</a> <a href=\"./Lean/Data/Lsp/Diagnostics.html#Lean.Lsp.PublishDiagnosticsParams\">Lean.Lsp.PublishDiagnosticsParams</a></span>)</span>)</span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/ec941735c80dc54c53948e30c428905b6600f95a/src/Lean/Data/Lsp/Ipc.lean#L68-L69","name":"Lean.Lsp.Ipc.waitForExit","line":68,"kind":"def","docLink":"./Lean/Data/Lsp/Ipc.html#Lean.Lsp.Ipc.waitForExit","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Data/Lsp/Ipc.html#Lean.Lsp.Ipc.waitForExit\"><span class=\"name\">Lean</span>.<span class=\"name\">Lsp</span>.<span class=\"name\">Ipc</span>.<span class=\"name\">waitForExit</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Data/Lsp/Ipc.html#Lean.Lsp.Ipc.IpcM\">Lean.Lsp.Ipc.IpcM</a> <a href=\"./Init/Prelude.html#UInt32\">UInt32</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/ec941735c80dc54c53948e30c428905b6600f95a/src/Lean/Data/Lsp/Ipc.lean#L65-L66","name":"Lean.Lsp.Ipc.readResponseAs","line":65,"kind":"def","docLink":"./Lean/Data/Lsp/Ipc.html#Lean.Lsp.Ipc.readResponseAs","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Data/Lsp/Ipc.html#Lean.Lsp.Ipc.readResponseAs\"><span class=\"name\">Lean</span>.<span class=\"name\">Lsp</span>.<span class=\"name\">Ipc</span>.<span class=\"name\">readResponseAs</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(expectedID : <a href=\"./Lean/Data/JsonRpc.html#Lean.JsonRpc.RequestID\">Lean.JsonRpc.RequestID</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(α : <a href=\"./foundational_types.html\">Type</a>)</span></span>\n<span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">[inst : <span class=\"fn\"><a href=\"./Lean/Data/Json/FromToJson.html#Lean.FromJson\">Lean.FromJson</a> <span class=\"fn\">α</span></span>]</span></span>\n</span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Data/Lsp/Ipc.html#Lean.Lsp.Ipc.IpcM\">Lean.Lsp.Ipc.IpcM</a> (<span class=\"fn\"><a href=\"./Lean/Data/JsonRpc.html#Lean.JsonRpc.Response\">Lean.JsonRpc.Response</a> <span class=\"fn\">α</span></span>)</span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/ec941735c80dc54c53948e30c428905b6600f95a/src/Lean/Data/Lsp/Ipc.lean#L62-L63","name":"Lean.Lsp.Ipc.readRequestAs","line":62,"kind":"def","docLink":"./Lean/Data/Lsp/Ipc.html#Lean.Lsp.Ipc.readRequestAs","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Data/Lsp/Ipc.html#Lean.Lsp.Ipc.readRequestAs\"><span class=\"name\">Lean</span>.<span class=\"name\">Lsp</span>.<span class=\"name\">Ipc</span>.<span class=\"name\">readRequestAs</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(expectedMethod : <a href=\"./Init/Prelude.html#String\">String</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(α : <a href=\"./foundational_types.html\">Type</a>)</span></span>\n<span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">[inst : <span class=\"fn\"><a href=\"./Lean/Data/Json/FromToJson.html#Lean.FromJson\">Lean.FromJson</a> <span class=\"fn\">α</span></span>]</span></span>\n</span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Data/Lsp/Ipc.html#Lean.Lsp.Ipc.IpcM\">Lean.Lsp.Ipc.IpcM</a> (<span class=\"fn\"><a href=\"./Lean/Data/JsonRpc.html#Lean.JsonRpc.Request\">Lean.JsonRpc.Request</a> <span class=\"fn\">α</span></span>)</span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/ec941735c80dc54c53948e30c428905b6600f95a/src/Lean/Data/Lsp/Ipc.lean#L59-L60","name":"Lean.Lsp.Ipc.readMessage","line":59,"kind":"def","docLink":"./Lean/Data/Lsp/Ipc.html#Lean.Lsp.Ipc.readMessage","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Data/Lsp/Ipc.html#Lean.Lsp.Ipc.readMessage\"><span class=\"name\">Lean</span>.<span class=\"name\">Lsp</span>.<span class=\"name\">Ipc</span>.<span class=\"name\">readMessage</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Data/Lsp/Ipc.html#Lean.Lsp.Ipc.IpcM\">Lean.Lsp.Ipc.IpcM</a> <a href=\"./Lean/Data/JsonRpc.html#Lean.JsonRpc.Message\">Lean.JsonRpc.Message</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/ec941735c80dc54c53948e30c428905b6600f95a/src/Lean/Data/Lsp/Ipc.lean#L42-L57","name":"Lean.Lsp.Ipc.shutdown","line":42,"kind":"def","docLink":"./Lean/Data/Lsp/Ipc.html#Lean.Lsp.Ipc.shutdown","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Data/Lsp/Ipc.html#Lean.Lsp.Ipc.shutdown\"><span class=\"name\">Lean</span>.<span class=\"name\">Lsp</span>.<span class=\"name\">Ipc</span>.<span class=\"name\">shutdown</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(requestNo : <a href=\"./Init/Prelude.html#Nat\">Nat</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Data/Lsp/Ipc.html#Lean.Lsp.Ipc.IpcM\">Lean.Lsp.Ipc.IpcM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/ec941735c80dc54c53948e30c428905b6600f95a/src/Lean/Data/Lsp/Ipc.lean#L39-L40","name":"Lean.Lsp.Ipc.writeNotification","line":39,"kind":"def","docLink":"./Lean/Data/Lsp/Ipc.html#Lean.Lsp.Ipc.writeNotification","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Data/Lsp/Ipc.html#Lean.Lsp.Ipc.writeNotification\"><span class=\"name\">Lean</span>.<span class=\"name\">Lsp</span>.<span class=\"name\">Ipc</span>.<span class=\"name\">writeNotification</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{α : <a href=\"./foundational_types.html\">Type</a> u_1}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">[inst : <span class=\"fn\"><a href=\"./Lean/Data/Json/FromToJson.html#Lean.ToJson\">Lean.ToJson</a> <span class=\"fn\">α</span></span>]</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(n : <span class=\"fn\"><a href=\"./Lean/Data/JsonRpc.html#Lean.JsonRpc.Notification\">Lean.JsonRpc.Notification</a> <span class=\"fn\">α</span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Data/Lsp/Ipc.html#Lean.Lsp.Ipc.IpcM\">Lean.Lsp.Ipc.IpcM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/ec941735c80dc54c53948e30c428905b6600f95a/src/Lean/Data/Lsp/Ipc.lean#L36-L37","name":"Lean.Lsp.Ipc.writeRequest","line":36,"kind":"def","docLink":"./Lean/Data/Lsp/Ipc.html#Lean.Lsp.Ipc.writeRequest","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Data/Lsp/Ipc.html#Lean.Lsp.Ipc.writeRequest\"><span class=\"name\">Lean</span>.<span class=\"name\">Lsp</span>.<span class=\"name\">Ipc</span>.<span class=\"name\">writeRequest</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{α : <a href=\"./foundational_types.html\">Type</a> u_1}</span></span>\n</span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">[inst : <span class=\"fn\"><a href=\"./Lean/Data/Json/FromToJson.html#Lean.ToJson\">Lean.ToJson</a> <span class=\"fn\">α</span></span>]</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(r : <span class=\"fn\"><a href=\"./Lean/Data/JsonRpc.html#Lean.JsonRpc.Request\">Lean.JsonRpc.Request</a> <span class=\"fn\">α</span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Data/Lsp/Ipc.html#Lean.Lsp.Ipc.IpcM\">Lean.Lsp.Ipc.IpcM</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/ec941735c80dc54c53948e30c428905b6600f95a/src/Lean/Data/Lsp/Ipc.lean#L33-L34","name":"Lean.Lsp.Ipc.stdout","line":33,"kind":"def","docLink":"./Lean/Data/Lsp/Ipc.html#Lean.Lsp.Ipc.stdout","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Data/Lsp/Ipc.html#Lean.Lsp.Ipc.stdout\"><span class=\"name\">Lean</span>.<span class=\"name\">Lsp</span>.<span class=\"name\">Ipc</span>.<span class=\"name\">stdout</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Data/Lsp/Ipc.html#Lean.Lsp.Ipc.IpcM\">Lean.Lsp.Ipc.IpcM</a> <a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/ec941735c80dc54c53948e30c428905b6600f95a/src/Lean/Data/Lsp/Ipc.lean#L30-L31","name":"Lean.Lsp.Ipc.stdin","line":30,"kind":"def","docLink":"./Lean/Data/Lsp/Ipc.html#Lean.Lsp.Ipc.stdin","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Data/Lsp/Ipc.html#Lean.Lsp.Ipc.stdin\"><span class=\"name\">Lean</span>.<span class=\"name\">Lsp</span>.<span class=\"name\">Ipc</span>.<span class=\"name\">stdin</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Data/Lsp/Ipc.html#Lean.Lsp.Ipc.IpcM\">Lean.Lsp.Ipc.IpcM</a> <a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/ec941735c80dc54c53948e30c428905b6600f95a/src/Lean/Data/Lsp/Ipc.lean#L26-L26","name":"Lean.Lsp.Ipc.IpcM","line":26,"kind":"def","docLink":"./Lean/Data/Lsp/Ipc.html#Lean.Lsp.Ipc.IpcM","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Data/Lsp/Ipc.html#Lean.Lsp.Ipc.IpcM\"><span class=\"name\">Lean</span>.<span class=\"name\">Lsp</span>.<span class=\"name\">Ipc</span>.<span class=\"name\">IpcM</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(α : <a href=\"./foundational_types.html\">Type</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/ec941735c80dc54c53948e30c428905b6600f95a/src/Lean/Data/Lsp/Ipc.lean#L21-L24","name":"Lean.Lsp.Ipc.ipcStdioConfig","line":21,"kind":"def","docLink":"./Lean/Data/Lsp/Ipc.html#Lean.Lsp.Ipc.ipcStdioConfig","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Data/Lsp/Ipc.html#Lean.Lsp.Ipc.ipcStdioConfig\"><span class=\"name\">Lean</span>.<span class=\"name\">Lsp</span>.<span class=\"name\">Ipc</span>.<span class=\"name\">ipcStdioConfig</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/System/IO.html#IO.Process.StdioConfig\">IO.Process.StdioConfig</a></div></div>"}]}