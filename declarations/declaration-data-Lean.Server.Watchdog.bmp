{"name":"Lean.Server.Watchdog","instances":[],"imports":["Init","Init.System.IO","Init.Data.ByteArray","Lean.Data.RBMap","Lean.Util.Paths","Lean.Data.FuzzyMatching","Lean.Data.Json","Lean.Data.Lsp","Lean.Server.Utils","Lean.Server.Requests","Lean.Server.References"],"declarations":[{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L698-L707","name":"Lean.Server.Watchdog.watchdogMain","kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.watchdogMain","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L651-L695","name":"Lean.Server.Watchdog.initAndRunWatchdog","kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.initAndRunWatchdog","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L638-L649","name":"Lean.Server.Watchdog.loadReferences","kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.loadReferences","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L630-L636","name":"Lean.Server.Watchdog.findWorkerPath","kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.findWorkerPath","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L614-L628","name":"Lean.Server.Watchdog.initAndRunWatchdogAux","kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.initAndRunWatchdogAux","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L579-L612","name":"Lean.Server.Watchdog.mkLeanServerCapabilities","kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.mkLeanServerCapabilities","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L537-L576","name":"Lean.Server.Watchdog.mainLoop","kind":"opaque","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.mainLoop","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L526-L535","name":"Lean.Server.Watchdog.runClientTask","kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.runClientTask","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L524-L524","name":"Lean.Server.Watchdog.ServerEvent.clientError","kind":"ctor","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerEvent.clientError","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L523-L523","name":"Lean.Server.Watchdog.ServerEvent.clientMsg","kind":"ctor","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerEvent.clientMsg","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L522-L522","name":"Lean.Server.Watchdog.ServerEvent.workerEvent","kind":"ctor","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerEvent.workerEvent","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L521-L524","name":"Lean.Server.Watchdog.ServerEvent","kind":"inductive","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerEvent","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L514-L519","name":"Lean.Server.Watchdog.shutdown","kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.shutdown","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L497-L510","name":"Lean.Server.Watchdog.handleNotification","kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleNotification","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L467-L495","name":"Lean.Server.Watchdog.handleRequest","kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleRequest","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L440-L465","name":"Lean.Server.Watchdog.forwardRequestToWorker","kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.forwardRequestToWorker","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L435-L438","name":"Lean.Server.Watchdog.parseParams","kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.parseParams","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L430-L431","name":"Lean.Server.Watchdog.forwardNotification","kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.forwardNotification","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L422-L428","name":"Lean.Server.Watchdog.handleCancelRequest","kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleCancelRequest","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L402-L420","name":"Lean.Server.Watchdog.handleDidChangeWatchedFiles","kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleDidChangeWatchedFiles","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L399-L400","name":"Lean.Server.Watchdog.handleDidClose","kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleDidClose","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L386-L397","name":"Lean.Server.Watchdog.handleDidChange","kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleDidChange","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L377-L384","name":"Lean.Server.Watchdog.handleDidOpen","kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleDidOpen","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L356-L372","name":"Lean.Server.Watchdog.handleWorkspaceSymbol","kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleWorkspaceSymbol","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L345-L354","name":"Lean.Server.Watchdog.handleReference","kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleReference","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L334-L343","name":"Lean.Server.Watchdog.findDefinitions","kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.findDefinitions","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L292-L327","name":"Lean.Server.Watchdog.tryWriteMessage","kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.tryWriteMessage","doc":"Tries to write a message, sets the state of the FileWorker to `crashed` if it does not succeed\nand restarts the file worker if the `crashed` flag was already set. Just logs an error if there\nis no FileWorker at this `uri`.\nMessages that couldn't be sent can be queued up via the queueFailedMessage flag and\nwill be discharged after the FileWorker is restarted. "},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L284-L285","name":"Lean.Server.Watchdog.handleCrash","kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleCrash","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L270-L282","name":"Lean.Server.Watchdog.terminateFileWorker","kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.terminateFileWorker","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L237-L268","name":"Lean.Server.Watchdog.startFileWorker","kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.startFileWorker","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L178-L182","name":"Lean.Server.Watchdog.handleIleanInfoFinal","kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleIleanInfoFinal","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L172-L176","name":"Lean.Server.Watchdog.handleIleanInfoUpdate","kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.handleIleanInfoUpdate","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L167-L170","name":"Lean.Server.Watchdog.log","kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.log","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L160-L165","name":"Lean.Server.Watchdog.eraseFileWorker","kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.eraseFileWorker","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L155-L158","name":"Lean.Server.Watchdog.findFileWorker!","kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.findFileWorker!","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L152-L153","name":"Lean.Server.Watchdog.findFileWorker?","kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.findFileWorker?","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L149-L150","name":"Lean.Server.Watchdog.updateFileWorkers","kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.updateFileWorkers","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L147-L147","name":"Lean.Server.Watchdog.ServerM","kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerM","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L145-L145","name":"Lean.Server.Watchdog.ServerContext.references","kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext.references","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L144-L144","name":"Lean.Server.Watchdog.ServerContext.srcSearchPath","kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext.srcSearchPath","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L143-L143","name":"Lean.Server.Watchdog.ServerContext.workerPath","kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext.workerPath","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L142-L142","name":"Lean.Server.Watchdog.ServerContext.initParams","kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext.initParams","doc":"We store these to pass them to workers. "},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L140-L140","name":"Lean.Server.Watchdog.ServerContext.fileWorkersRef","kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext.fileWorkersRef","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L139-L139","name":"Lean.Server.Watchdog.ServerContext.args","kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext.args","doc":"Command line arguments. "},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L137-L137","name":"Lean.Server.Watchdog.ServerContext.hLog","kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext.hLog","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L136-L136","name":"Lean.Server.Watchdog.ServerContext.hOut","kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext.hOut","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L135-L135","name":"Lean.Server.Watchdog.ServerContext.hIn","kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext.hIn","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L134-L145","name":"Lean.Server.Watchdog.ServerContext","kind":"structure","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L132-L132","name":"Lean.Server.Watchdog.FileWorkerMap","kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorkerMap","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L123-L126","name":"Lean.Server.Watchdog.FileWorker.errorPendingRequests","kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker.errorPendingRequests","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L120-L121","name":"Lean.Server.Watchdog.FileWorker.erasePendingRequest","kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker.erasePendingRequest","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L117-L118","name":"Lean.Server.Watchdog.FileWorker.stdout","kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker.stdout","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L114-L115","name":"Lean.Server.Watchdog.FileWorker.stdin","kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker.stdin","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L110-L110","name":"Lean.Server.Watchdog.FileWorker.pendingRequestsRef","kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker.pendingRequestsRef","doc":"The pending requests map contains all requests\nthat have been received from the LSP client, but were not answered yet.\nWe need them for forwaring cancellation requests to the correct worker as well as cleanly aborting\nrequests on worker crashes. "},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L104-L104","name":"Lean.Server.Watchdog.FileWorker.state","kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker.state","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L103-L103","name":"Lean.Server.Watchdog.FileWorker.commTask","kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker.commTask","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L102-L102","name":"Lean.Server.Watchdog.FileWorker.proc","kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker.proc","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L101-L101","name":"Lean.Server.Watchdog.FileWorker.doc","kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker.doc","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L100-L110","name":"Lean.Server.Watchdog.FileWorker","kind":"structure","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L96-L96","name":"Lean.Server.Watchdog.PendingRequestMap","kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.PendingRequestMap","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L94-L94","name":"Lean.Server.Watchdog.WorkerState.running","kind":"ctor","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.WorkerState.running","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L86-L93","name":"Lean.Server.Watchdog.WorkerState.crashed","kind":"ctor","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.WorkerState.crashed","doc":"The watchdog can detect a crashed file worker in two places: When trying to send a message to the file worker\nand when reading a request reply.\nIn the latter case, the forwarding task terminates and delegates a `crashed` event to the main task.\nThen, in both cases, the file worker has its state set to `crashed` and requests that are in-flight are errored.\nUpon receiving the next packet for that file worker, the file worker is restarted and the packet is forwarded\nto it. If the crash was detected while writing a packet, we queue that packet until the next packet for the file\nworker arrives. "},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L85-L94","name":"Lean.Server.Watchdog.WorkerState","kind":"inductive","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.WorkerState","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L83-L83","name":"Lean.Server.Watchdog.WorkerEvent.ioError","kind":"ctor","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.WorkerEvent.ioError","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L82-L82","name":"Lean.Server.Watchdog.WorkerEvent.crashed","kind":"ctor","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.WorkerEvent.crashed","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L81-L81","name":"Lean.Server.Watchdog.WorkerEvent.importsChanged","kind":"ctor","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.WorkerEvent.importsChanged","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L80-L80","name":"Lean.Server.Watchdog.WorkerEvent.terminated","kind":"ctor","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.WorkerEvent.terminated","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L79-L83","name":"Lean.Server.Watchdog.WorkerEvent","kind":"inductive","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.WorkerEvent","doc":"Events that worker-specific tasks signal to the main thread. "},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L71-L76","name":"Lean.Server.Watchdog.workerCfg","kind":"def","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.workerCfg","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L1-L1","name":"Lean.Server.Watchdog.ServerContext.mk","kind":"ctor","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.ServerContext.mk","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/9ec9ea61a4ebbcd2672b8905e7c583958113e24e/src/Lean/Server/Watchdog.lean#L1-L1","name":"Lean.Server.Watchdog.FileWorker.mk","kind":"ctor","docLink":"./Lean/Server/Watchdog.html#Lean.Server.Watchdog.FileWorker.mk","doc":""}]}