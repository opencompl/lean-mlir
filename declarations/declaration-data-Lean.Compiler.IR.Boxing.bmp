{"name":"Lean.Compiler.IR.Boxing","instances":[],"imports":["Init","Lean.Runtime","Lean.Compiler.ClosedTermCache","Lean.Compiler.ExternAttr","Lean.Compiler.IR.Basic","Lean.Compiler.IR.CompilerM","Lean.Compiler.IR.FreeVars","Lean.Compiler.IR.ElimDeadVars"],"declarations":[{"sourceLink":"https://github.com/leanprover/lean4/blob/ebc32af2e606deef0d7b437e67f24c20ed866818/src/Lean/Compiler/IR/Boxing.lean#L340-L342","name":"Lean.IR.explicitBoxing","kind":"def","docLink":"./Lean/Compiler/IR/Boxing.html#Lean.IR.explicitBoxing","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/ebc32af2e606deef0d7b437e67f24c20ed866818/src/Lean/Compiler/IR/Boxing.lean#L324-L336","name":"Lean.IR.ExplicitBoxing.run","kind":"def","docLink":"./Lean/Compiler/IR/Boxing.html#Lean.IR.ExplicitBoxing.run","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/ebc32af2e606deef0d7b437e67f24c20ed866818/src/Lean/Compiler/IR/Boxing.lean#L292-L322","name":"Lean.IR.ExplicitBoxing.visitFnBody","kind":"opaque","docLink":"./Lean/Compiler/IR/Boxing.html#Lean.IR.ExplicitBoxing.visitFnBody","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/ebc32af2e606deef0d7b437e67f24c20ed866818/src/Lean/Compiler/IR/Boxing.lean#L268-L290","name":"Lean.IR.ExplicitBoxing.visitVDeclExpr","kind":"def","docLink":"./Lean/Compiler/IR/Boxing.html#Lean.IR.ExplicitBoxing.visitVDeclExpr","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/ebc32af2e606deef0d7b437e67f24c20ed866818/src/Lean/Compiler/IR/Boxing.lean#L260-L266","name":"Lean.IR.ExplicitBoxing.castResultIfNeeded","kind":"def","docLink":"./Lean/Compiler/IR/Boxing.html#Lean.IR.ExplicitBoxing.castResultIfNeeded","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/ebc32af2e606deef0d7b437e67f24c20ed866818/src/Lean/Compiler/IR/Boxing.lean#L253-L258","name":"Lean.IR.ExplicitBoxing.unboxResultIfNeeded","kind":"def","docLink":"./Lean/Compiler/IR/Boxing.html#Lean.IR.ExplicitBoxing.unboxResultIfNeeded","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/ebc32af2e606deef0d7b437e67f24c20ed866818/src/Lean/Compiler/IR/Boxing.lean#L248-L251","name":"Lean.IR.ExplicitBoxing.boxArgsIfNeeded","kind":"def","docLink":"./Lean/Compiler/IR/Boxing.html#Lean.IR.ExplicitBoxing.boxArgsIfNeeded","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/ebc32af2e606deef0d7b437e67f24c20ed866818/src/Lean/Compiler/IR/Boxing.lean#L243-L246","name":"Lean.IR.ExplicitBoxing.castArgsIfNeeded","kind":"def","docLink":"./Lean/Compiler/IR/Boxing.html#Lean.IR.ExplicitBoxing.castArgsIfNeeded","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/ebc32af2e606deef0d7b437e67f24c20ed866818/src/Lean/Compiler/IR/Boxing.lean#L221-L241","name":"Lean.IR.ExplicitBoxing.castArgsIfNeededAux","kind":"def","docLink":"./Lean/Compiler/IR/Boxing.html#Lean.IR.ExplicitBoxing.castArgsIfNeededAux","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/ebc32af2e606deef0d7b437e67f24c20ed866818/src/Lean/Compiler/IR/Boxing.lean#L216-L219","name":"Lean.IR.ExplicitBoxing.castArgIfNeeded","kind":"def","docLink":"./Lean/Compiler/IR/Boxing.html#Lean.IR.ExplicitBoxing.castArgIfNeeded","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/ebc32af2e606deef0d7b437e67f24c20ed866818/src/Lean/Compiler/IR/Boxing.lean#L207-L214","name":"Lean.IR.ExplicitBoxing.castVarIfNeeded","kind":"def","docLink":"./Lean/Compiler/IR/Boxing.html#Lean.IR.ExplicitBoxing.castVarIfNeeded","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/ebc32af2e606deef0d7b437e67f24c20ed866818/src/Lean/Compiler/IR/Boxing.lean#L177-L205","name":"Lean.IR.ExplicitBoxing.mkCast","kind":"def","docLink":"./Lean/Compiler/IR/Boxing.html#Lean.IR.ExplicitBoxing.mkCast","doc":"Auxiliary function used by castVarIfNeeded.\nIt is used when the expected type does not match `xType`.\nIf `xType` is scalar, then we need to \"box\" it. Otherwise, we need to \"unbox\" it. "},{"sourceLink":"https://github.com/leanprover/lean4/blob/ebc32af2e606deef0d7b437e67f24c20ed866818/src/Lean/Compiler/IR/Boxing.lean#L153-L154","name":"Lean.IR.ExplicitBoxing.withJDecl","kind":"def","docLink":"./Lean/Compiler/IR/Boxing.html#Lean.IR.ExplicitBoxing.withJDecl","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/ebc32af2e606deef0d7b437e67f24c20ed866818/src/Lean/Compiler/IR/Boxing.lean#L150-L151","name":"Lean.IR.ExplicitBoxing.withVDecl","kind":"def","docLink":"./Lean/Compiler/IR/Boxing.html#Lean.IR.ExplicitBoxing.withVDecl","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/ebc32af2e606deef0d7b437e67f24c20ed866818/src/Lean/Compiler/IR/Boxing.lean#L147-L148","name":"Lean.IR.ExplicitBoxing.withParams","kind":"def","docLink":"./Lean/Compiler/IR/Boxing.html#Lean.IR.ExplicitBoxing.withParams","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/ebc32af2e606deef0d7b437e67f24c20ed866818/src/Lean/Compiler/IR/Boxing.lean#L141-L145","name":"Lean.IR.ExplicitBoxing.getDecl","kind":"def","docLink":"./Lean/Compiler/IR/Boxing.html#Lean.IR.ExplicitBoxing.getDecl","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/ebc32af2e606deef0d7b437e67f24c20ed866818/src/Lean/Compiler/IR/Boxing.lean#L135-L139","name":"Lean.IR.ExplicitBoxing.getJPParams","kind":"def","docLink":"./Lean/Compiler/IR/Boxing.html#Lean.IR.ExplicitBoxing.getJPParams","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/ebc32af2e606deef0d7b437e67f24c20ed866818/src/Lean/Compiler/IR/Boxing.lean#L129-L133","name":"Lean.IR.ExplicitBoxing.getVarType","kind":"def","docLink":"./Lean/Compiler/IR/Boxing.html#Lean.IR.ExplicitBoxing.getVarType","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/ebc32af2e606deef0d7b437e67f24c20ed866818/src/Lean/Compiler/IR/Boxing.lean#L127-L127","name":"Lean.IR.ExplicitBoxing.getResultType","kind":"def","docLink":"./Lean/Compiler/IR/Boxing.html#Lean.IR.ExplicitBoxing.getResultType","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/ebc32af2e606deef0d7b437e67f24c20ed866818/src/Lean/Compiler/IR/Boxing.lean#L126-L126","name":"Lean.IR.ExplicitBoxing.getLocalContext","kind":"def","docLink":"./Lean/Compiler/IR/Boxing.html#Lean.IR.ExplicitBoxing.getLocalContext","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/ebc32af2e606deef0d7b437e67f24c20ed866818/src/Lean/Compiler/IR/Boxing.lean#L125-L125","name":"Lean.IR.ExplicitBoxing.getEnv","kind":"def","docLink":"./Lean/Compiler/IR/Boxing.html#Lean.IR.ExplicitBoxing.getEnv","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/ebc32af2e606deef0d7b437e67f24c20ed866818/src/Lean/Compiler/IR/Boxing.lean#L119-L119","name":"Lean.IR.ExplicitBoxing.M","kind":"def","docLink":"./Lean/Compiler/IR/Boxing.html#Lean.IR.ExplicitBoxing.M","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/ebc32af2e606deef0d7b437e67f24c20ed866818/src/Lean/Compiler/IR/Boxing.lean#L117-L117","name":"Lean.IR.ExplicitBoxing.BoxingState.nextAuxId","kind":"def","docLink":"./Lean/Compiler/IR/Boxing.html#Lean.IR.ExplicitBoxing.BoxingState.nextAuxId","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/ebc32af2e606deef0d7b437e67f24c20ed866818/src/Lean/Compiler/IR/Boxing.lean#L116-L116","name":"Lean.IR.ExplicitBoxing.BoxingState.auxDeclCache","kind":"def","docLink":"./Lean/Compiler/IR/Boxing.html#Lean.IR.ExplicitBoxing.BoxingState.auxDeclCache","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/ebc32af2e606deef0d7b437e67f24c20ed866818/src/Lean/Compiler/IR/Boxing.lean#L115-L115","name":"Lean.IR.ExplicitBoxing.BoxingState.auxDecls","kind":"def","docLink":"./Lean/Compiler/IR/Boxing.html#Lean.IR.ExplicitBoxing.BoxingState.auxDecls","doc":"We create auxiliary declarations when boxing constant and literals.\nThe idea is to avoid code such as\n```\nlet x1 := Uint64.inhabited;\nlet x2 := box x1;\n...\n```\nWe currently do not cache these declarations in an environment extension, but\nwe use auxDeclCache to avoid creating equivalent auxiliary declarations more than once when\nprocessing the same IR declaration.\n"},{"sourceLink":"https://github.com/leanprover/lean4/blob/ebc32af2e606deef0d7b437e67f24c20ed866818/src/Lean/Compiler/IR/Boxing.lean#L103-L103","name":"Lean.IR.ExplicitBoxing.BoxingState.nextIdx","kind":"def","docLink":"./Lean/Compiler/IR/Boxing.html#Lean.IR.ExplicitBoxing.BoxingState.nextIdx","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/ebc32af2e606deef0d7b437e67f24c20ed866818/src/Lean/Compiler/IR/Boxing.lean#L102-L117","name":"Lean.IR.ExplicitBoxing.BoxingState","kind":"structure","docLink":"./Lean/Compiler/IR/Boxing.html#Lean.IR.ExplicitBoxing.BoxingState","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/ebc32af2e606deef0d7b437e67f24c20ed866818/src/Lean/Compiler/IR/Boxing.lean#L100-L100","name":"Lean.IR.ExplicitBoxing.BoxingContext.env","kind":"def","docLink":"./Lean/Compiler/IR/Boxing.html#Lean.IR.ExplicitBoxing.BoxingContext.env","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/ebc32af2e606deef0d7b437e67f24c20ed866818/src/Lean/Compiler/IR/Boxing.lean#L99-L99","name":"Lean.IR.ExplicitBoxing.BoxingContext.decls","kind":"def","docLink":"./Lean/Compiler/IR/Boxing.html#Lean.IR.ExplicitBoxing.BoxingContext.decls","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/ebc32af2e606deef0d7b437e67f24c20ed866818/src/Lean/Compiler/IR/Boxing.lean#L98-L98","name":"Lean.IR.ExplicitBoxing.BoxingContext.resultType","kind":"def","docLink":"./Lean/Compiler/IR/Boxing.html#Lean.IR.ExplicitBoxing.BoxingContext.resultType","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/ebc32af2e606deef0d7b437e67f24c20ed866818/src/Lean/Compiler/IR/Boxing.lean#L97-L97","name":"Lean.IR.ExplicitBoxing.BoxingContext.localCtx","kind":"def","docLink":"./Lean/Compiler/IR/Boxing.html#Lean.IR.ExplicitBoxing.BoxingContext.localCtx","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/ebc32af2e606deef0d7b437e67f24c20ed866818/src/Lean/Compiler/IR/Boxing.lean#L96-L96","name":"Lean.IR.ExplicitBoxing.BoxingContext.f","kind":"def","docLink":"./Lean/Compiler/IR/Boxing.html#Lean.IR.ExplicitBoxing.BoxingContext.f","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/ebc32af2e606deef0d7b437e67f24c20ed866818/src/Lean/Compiler/IR/Boxing.lean#L95-L100","name":"Lean.IR.ExplicitBoxing.BoxingContext","kind":"structure","docLink":"./Lean/Compiler/IR/Boxing.html#Lean.IR.ExplicitBoxing.BoxingContext","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/ebc32af2e606deef0d7b437e67f24c20ed866818/src/Lean/Compiler/IR/Boxing.lean#L92-L93","name":"Lean.IR.ExplicitBoxing.eqvTypes","kind":"def","docLink":"./Lean/Compiler/IR/Boxing.html#Lean.IR.ExplicitBoxing.eqvTypes","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/ebc32af2e606deef0d7b437e67f24c20ed866818/src/Lean/Compiler/IR/Boxing.lean#L77-L90","name":"Lean.IR.ExplicitBoxing.getScrutineeType","kind":"def","docLink":"./Lean/Compiler/IR/Boxing.html#Lean.IR.ExplicitBoxing.getScrutineeType","doc":"Infer scrutinee type using `case` alternatives.\nThis can be done whenever `alts` does not contain an `Alt.default _` value. "},{"sourceLink":"https://github.com/leanprover/lean4/blob/ebc32af2e606deef0d7b437e67f24c20ed866818/src/Lean/Compiler/IR/Boxing.lean#L70-L73","name":"Lean.IR.ExplicitBoxing.addBoxedVersions","kind":"def","docLink":"./Lean/Compiler/IR/Boxing.html#Lean.IR.ExplicitBoxing.addBoxedVersions","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/ebc32af2e606deef0d7b437e67f24c20ed866818/src/Lean/Compiler/IR/Boxing.lean#L67-L68","name":"Lean.IR.ExplicitBoxing.mkBoxedVersion","kind":"def","docLink":"./Lean/Compiler/IR/Boxing.html#Lean.IR.ExplicitBoxing.mkBoxedVersion","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/ebc32af2e606deef0d7b437e67f24c20ed866818/src/Lean/Compiler/IR/Boxing.lean#L46-L65","name":"Lean.IR.ExplicitBoxing.mkBoxedVersionAux","kind":"def","docLink":"./Lean/Compiler/IR/Boxing.html#Lean.IR.ExplicitBoxing.mkBoxedVersionAux","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/ebc32af2e606deef0d7b437e67f24c20ed866818/src/Lean/Compiler/IR/Boxing.lean#L41-L44","name":"Lean.IR.ExplicitBoxing.requiresBoxedVersion","kind":"def","docLink":"./Lean/Compiler/IR/Boxing.html#Lean.IR.ExplicitBoxing.requiresBoxedVersion","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/ebc32af2e606deef0d7b437e67f24c20ed866818/src/Lean/Compiler/IR/Boxing.lean#L36-L36","name":"Lean.IR.ExplicitBoxing.N","kind":"def","docLink":"./Lean/Compiler/IR/Boxing.html#Lean.IR.ExplicitBoxing.N","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/ebc32af2e606deef0d7b437e67f24c20ed866818/src/Lean/Compiler/IR/Boxing.lean#L33-L34","name":"Lean.IR.ExplicitBoxing.isBoxedName","kind":"def","docLink":"./Lean/Compiler/IR/Boxing.html#Lean.IR.ExplicitBoxing.isBoxedName","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/ebc32af2e606deef0d7b437e67f24c20ed866818/src/Lean/Compiler/IR/Boxing.lean#L30-L31","name":"Lean.IR.ExplicitBoxing.mkBoxedName","kind":"def","docLink":"./Lean/Compiler/IR/Boxing.html#Lean.IR.ExplicitBoxing.mkBoxedName","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/ebc32af2e606deef0d7b437e67f24c20ed866818/src/Lean/Compiler/IR/Boxing.lean#L1-L1","name":"Lean.IR.ExplicitBoxing.BoxingContext.mk","kind":"ctor","docLink":"./Lean/Compiler/IR/Boxing.html#Lean.IR.ExplicitBoxing.BoxingContext.mk","doc":""},{"sourceLink":"https://github.com/leanprover/lean4/blob/ebc32af2e606deef0d7b437e67f24c20ed866818/src/Lean/Compiler/IR/Boxing.lean#L1-L1","name":"Lean.IR.ExplicitBoxing.BoxingState.mk","kind":"ctor","docLink":"./Lean/Compiler/IR/Boxing.html#Lean.IR.ExplicitBoxing.BoxingState.mk","doc":""}]}